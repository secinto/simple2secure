<div *ngIf="isTestTemplate">
    <h3 mat-dialog-title>{{ 'menu.template' | translate }} {{template.name}}</h3>

    <div mat-dialog-content>
        <form #templateForm="ngForm">
            <div class="form-group">

                <mat-form-field class="full_width_input">
                    <input matInput type="text" placeholder="{{ 'name.placeholder.generic' | translate }}"
                           [(ngModel)]="template.name" name="name" required>
                </mat-form-field>

                <button mat-raised-button id="addCommand" type="button" (click)="addCommand()" class="btn-sm btn-info
                pull-right mat-green-button"><i class="glyphicon glyphicon-plus"></i> {{ 'button.addCommand' |
                    translate }}
                </button>

                <p><b>{{ 'table.commands' | translate }}</b></p>

                <div *ngFor="let cmd of template.commands; let in=index" ngModelGroup="commands">
                    <legend>{{cmd.content}}</legend>

                    <div class="form-group">
                        <mat-form-field class="full_width_input">
                            <input type="text" matInput placeholder="{{ 'table.name' | translate }}"
                                   [(ngModel)]="template.commands[in].content" name="content{{in}}">
                            <mat-icon matSuffix class="mat-icon-green">mode_edit</mat-icon>
                        </mat-form-field>
                    </div>

                </div>
            </div>
        </form>
    </div>

    <div mat-dialog-actions>
        <button mat-button [disabled]="!templateForm.dirty" mat-raised-button class="mat-green-button" color="primary"
                (click)="saveTemplate()">{{ 'button.save' | translate }}
        </button>
        <button class="mat-red-button" type="button" mat-raised-button color="warn" [mat-dialog-close]="test"
                cdkFocusInitial>{{ 'button.cancel' | translate }}
        </button>
    </div>
</div>

<div *ngIf="!isTestTemplate">
    <h3 mat-dialog-title>{{ 'table.test' | translate }} {{test.name}}</h3>

    <div mat-dialog-content>
        <form #templateForm="ngForm">
            <div class="form-group">

                <mat-form-field class="full_width_input">
                    <input matInput type="text" placeholder="{{ 'name.placeholder.generic' | translate }}"
                           [(ngModel)]="test.name" name="name" required>
                </mat-form-field>


                <p><b>{{ 'table.commands' | translate }}</b></p>

                <div *ngFor="let cmd of test.commands; let in=index" ngModelGroup="commands">
                    <legend>{{cmd.content}}</legend>

                    <div class="form-group">
                        <mat-form-field class="full_width_input">
                            <input type="text" matInput placeholder="{{ 'table.name' | translate }}"
                                   [(ngModel)]="test.commands[in].content" name="content{{in}}">
                            <mat-icon matSuffix class="mat-icon-green">mode_edit</mat-icon>
                        </mat-form-field>
                    </div>

                </div>
            </div>
        </form>
    </div>

    <div mat-dialog-actions>
        <!--<button mat-button [disabled]="!templateForm.dirty" mat-raised-button class="mat-green-button" color="primary"
                (click)="saveTemplate()">{{ 'button.save' | translate }}
        </button> -->
        <button class="mat-red-button" type="button" mat-raised-button color="warn" [mat-dialog-close]="test"
                cdkFocusInitial>{{ 'button.cancel' | translate }}
        </button>
    </div>
</div>